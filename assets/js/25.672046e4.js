(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{351:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#mwrt模式的安装和使用说明"}},[s._v("MWRT模式的安装和使用说明")])]),a("li",[a("a",{attrs:{href:"#mwrt-简介"}},[s._v("MWRT 简介")])]),a("li",[a("a",{attrs:{href:"#mwsim-编译和安装"}},[s._v("mwsim 编译和安装")])]),a("li",[a("a",{attrs:{href:"#mwsim的模块"}},[s._v("mwsim的模块")])]),a("li",[a("a",{attrs:{href:"#我的改动"}},[s._v("我的改动")])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"mwrt模式的安装和使用说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mwrt模式的安装和使用说明"}},[s._v("#")]),s._v(" MWRT模式的安装和使用说明")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("- mwrt-install-introduction.pdf   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###MWRT安装说明 by. JinjunLiu ljj7129@mail.ustc.edu.cn")]),s._v("\n- mwsim-introduction.pdf   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###最新版MWRT说明，我们使用这个版本 by. JinjunLiu ")]),s._v("\n- mwsim.tar.bz2  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###mwsim安装包")]),s._v("\n- mwsim.hjh.tar.bz2  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###我改动以后的mwsim，改变的是radsub.f文件")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("上述两个说明文档可以在线下载"),a("a",{attrs:{href:"/pdfs/MWRT-install-record.pdf"}},[s._v("mwrt")]),s._v(" |  "),a("a",{attrs:{href:"/pdfs/mwsim-cloud-study.pdf"}},[s._v("mwsim")]),s._v("，并且附在资料页。")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"mwrt-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mwrt-简介"}},[s._v("#")]),s._v(" MWRT 简介")]),s._v(" "),a("p",[s._v("MWRT(Microwave Radiative Transfer)为刘国胜老师设计的平面平行微波辐射传输模式， 下载地址： http://cirrus.met.fsu.edu/。现在最新的mwsim使我们使用的版本，两者水凝物的设定方式不同，具体参考上述两个文档。")]),s._v(" "),a("p",[s._v("如果你要反演MLSE，建议使用mwsim.tar.bz2 安装包。")]),s._v(" "),a("h2",{attrs:{id:"mwsim-编译和安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mwsim-编译和安装"}},[s._v("#")]),s._v(" mwsim 编译和安装")]),s._v(" "),a("p",[s._v("（参考安装包中的 readme 文件）")]),s._v(" "),a("ol",[a("li",[s._v("解压软件包")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$tar")]),s._v(" -vxjf mwsim.hjh.tar.bz2   \nmwsim/\nmwsim/CVS/\nmwsim/CVS/Root\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[s._v("设置编译选项\n可根据需要修改 mwsim 程序目录下 makefile 文件\n比如 FC = gfortran 可以修改为自己需要的编译器")])]),s._v(" "),a("li",[a("p",[s._v("编译软件")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果编译正确， bin 目录下会生成 4 个可执行文件\nmwradar.exe\nmodwtr.exe\nmodwtr\nmwrt.exe")]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[s._v("设置环境变量")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.bashrc\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mwrt ")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MWSIM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/hjh/mwsim    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###我的mwsim安装目录")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MWSIM")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bashrc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("运行测试\n请参考"),a("code",[s._v("mwrt-install-introduction.pdf mwsim-introduction.pdf")])])]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"mwsim的模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mwsim的模块"}},[s._v("#")]),s._v(" mwsim的模块")]),s._v(" "),a("img",{staticStyle:{height:"400px"},attrs:{src:"https://ws1.sinaimg.cn/large/005zDzHply1g4mkcgtzyhj30pt0ppabg.jpg"}}),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mwsim"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n+bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##编译以后的可执行文件，可以通过脚本执行 ")]),s._v("\n+lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" \n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("+profile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##存储了几种标准大气静态廓线")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-liblap.a   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##静态库，是由编译生成的静态库文件，是我们编译反演算法的依赖")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-libmwrt.a\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-librad.a\n+mathphys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##物理方案，全是各种fortran子程序，用来计算米散射和谱分布等物理过程")]),s._v("\n+radtrans"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##辐射传输主程序")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-radarsub.f   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##雷达辐射传输")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-radsub.f      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##被动微波辐射传输，也就是我们使用的")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("建议做一个副本，对这些源码按照引用关系梳理一遍，有助于理解其内在的物理过程，很多理论如mie散射计算，刘老师都注明了引用的文献。")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"我的改动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#我的改动"}},[s._v("#")]),s._v(" 我的改动")]),s._v(" "),a("p",[s._v("由于mwsim在洋面上是通过sst，wind和SLNTY 来直接利用debay延迟公式和风场校正以后直接计算出来的海表比辐射率，所以，洋面上的MSSE不需要卫星反演就可以算出，但是，原始的mwsim不具有输出海表面emissivity的参数。在此，我对"),a("code",[s._v("radtrans/radsub.f")]),s._v("进行了修改。")]),s._v(" "),a("p",[s._v("radsub.f是修改之前的，radsub.f是修改之后的，差别在于：")]),s._v(" "),a("div",{staticClass:"language-fortran line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-fortran"}},[a("code",[s._v("line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("141")]),s._v(" \t        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("real")]),s._v(" Emiss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("!2016.5 by Hu.    增加emissivity输出项")]),s._v("\nline "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("real")]),s._v(" Emiss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("!2016.5 by Hu. ")]),s._v("\nline "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("212")]),s._v("            emiss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rsuu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("!vertical polarization surface emissivity")]),s._v("\nline "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("213")]),s._v("\t        emiss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rsuu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("!horizontal polarization surface emissivity")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("修改之后需要编译生效")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("就行了。这些改动在陆地上用不到，只是之前模拟洋面是留下来的改动。")]),s._v(" "),a("p",[s._v("如果你想用原版的mwsim来反演MLSE，你只需要将retrieve过程中的core-iteration.f 改动,去除第三行的EMISS参数就行：")]),s._v(" "),a("div",{staticClass:"language-fortran line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-fortran"}},[a("code",[s._v("\t     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v("  mwstrm4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("F"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("newL"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("LOUT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("IHV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("PMB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("TK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("RH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Z"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("TS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("IS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("minE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("WND"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("&")]),s._v("\n            CldWtr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("CldIce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Rain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Snow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Graupel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("&")]),s._v("\n            MixingRule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("TB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("TW1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("TW2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("EMISS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("WK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("SurfModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("IO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("retcode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("hr"),s._v(" "),a("p",[s._v("请详细学习一下参数的设置方法，做一些试验，运行一下，跑一个个例。刘进军的文档里是有练习的。")]),s._v(" "),a("p",[s._v("©jihenghu 2019")])])}),[],!1,null,null,null);t.default=e.exports}}]);