(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{359:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#文件夹内容"}},[s._v("- 文件夹内容")])]),a("li",[a("a",{attrs:{href:"#运行方式"}},[s._v("- 运行方式")])]),a("li",[a("a",{attrs:{href:"#预处理内容"}},[s._v("- 预处理内容")])]),a("li",[a("a",{attrs:{href:"#建议"}},[s._v("- 建议")])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"文件夹内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件夹内容"}},[s._v("#")]),s._v(" - 文件夹内容")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("+ data  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#存储处理过的era数据，二进制格式")]),s._v("\n- era20c.preprocess.ncl  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#主要的处理程序，NCL语言编写")]),s._v("\n- batch.sh  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#批量控制脚本")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"运行方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行方式"}},[s._v("#")]),s._v(" - 运行方式")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("单个日期处理（如2004年1月1日)")]),s._v(" "),a("p",[s._v("NCL带参运行 yyyymmdd=20040101")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ncl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("yyyymmdd")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040101")]),s._v(" era20c.preprocess.ncl \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040101")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\tit\n····\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\tit\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040101")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("运行结果：data文件夹下出现"),a("code",[s._v("ERA20C.EAsia.27L.12km.20040101")]),s._v("，任务完成。")])]),s._v(" "),a("li",[a("p",[s._v("批量日期处理（如20040102~20040103）")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("batch.sh")]),s._v("脚本")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sh")]),s._v(" batch.sh "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040102")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040103")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040102")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040102")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\tit\n···\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\tit\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040102")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040103")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040103")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\tit\n···\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20040103")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"预处理内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预处理内容"}},[s._v("#")]),s._v(" - 预处理内容")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("提取ERA-20c的大气廓线和地表参数：温度廓线T、湿度廓线RH、气压廓线pmb、高度廓线z，地表温度LST、地表气压LSP，10m风场，2m温度。风场实际上并没有什么用处，因为不是陆地上MLSE反演的必须项。")])]),s._v(" "),a("li",[a("p",[s._v("原始数据的特征参数：")]),s._v(" "),a("p",[s._v("分辨率：水平0.125"),a("sup",[s._v("o")]),s._v(", 垂直分辨率：从1mb到1000nb共有不均匀的37层等压层。")]),s._v(" "),a("p",[s._v("时间分辨率：3 小时 [00:00, 03:00, 06:00, 09:00, 12:00, 15:00, 18:00, 21:00]；")])]),s._v(" "),a("li",[a("p",[s._v("只取100mb层以下的层，共27层。")]),s._v(" "),a("div",{staticClass:"language-fortran  77 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-fortran"}},[a("code",[s._v("pmb "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("125.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("150.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("175.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("225.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("250.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("350.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("400.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("450.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("550.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("650.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("700.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("750.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("775.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("800.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("825.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("850.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("875.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("900.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("925.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("950.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("975.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/)")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("!!!单位 mb")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("使用地表气压缺测地形高度以下的大气廓线。")]),s._v(" "),a("div",{staticClass:"language-NCL line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\t\t rh(it,ih,:,:) = where(psurf(it,:,:).le.p(ih),fillvalue,rh(it,ih,:,:))\n         t(it,ih,:,:)  = where(psurf(it,:,:).le.p(ih),fillvalue,t(it,ih,:,:))\n         z(it,ih,:,:)  = where(psurf(it,:,:).le.p(ih),fillvalue,z(it,ih,:,:))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("输出成二进制文件，由于是输出参数多为三维，二进制比较合适。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("输出：")]),s._v(" "),a("div",{staticClass:"language-NCL line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('  outbin =   "./data/ERA20C.EAsia.27L.12km.20040101"\n    fbinrecwrite(outbin,-1,p)    ;气压层  [27]  hpa\n    fbinrecwrite(outbin,-1,t)    ;温度廓线[8,27,361,601]  k\n    fbinrecwrite(outbin,-1,z)    ;高度廓线[8,27,361,601]  m\n    fbinrecwrite(outbin,-1,rh)   ;湿度廓线[8,27,361,601]  %\n\t\n    fbinrecwrite(outbin,-1,psurf) ;地表气压 [8,361,601] hpa\n    fbinrecwrite(outbin,-1,skt)   ;地表温度 [8,361,601]  k\n    fbinrecwrite(outbin,-1,t2m)   ;2m高度温度[8,361,601]  k\n    fbinrecwrite(outbin,-1,wnd)   ;10m风场  [8,361,601]  m/s\n\t\n    fbinrecwrite(outbin,-1,latitude)  ;[55, 5,-0.125]\n    fbinrecwrite(outbin,-1,longitude) ;[10,145,0.125]\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("fortran 读取方式")]),s._v(" "),a("div",{staticClass:"language-Fortran 77 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-fortran"}},[a("code",[s._v("       "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("parameter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("parameter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("L "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("parameter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("601")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n       "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("parameter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("361")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("!!!!  era parameter \t\t ")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("real")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  pmb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("L"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tkk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nlat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("L"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("rhh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nlat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("L"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("zz"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nlat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("L"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("real")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  late"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("lone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("real")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  psurf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nlat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" skt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nlat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("wndg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nlat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t2mg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nlon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nlat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   \n     \n       ecmwf "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../20c/data/ERA20C.EAsia.27L.12km.20040101'")]),s._v("   \n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ecmwf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("form"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"unformatted"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("access"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sequential"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t\t  \n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" pmb\n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" tkk\n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" zz\n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" rhh\n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" psurf\n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" skt\n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" t2mg\n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" wndg\t    \t\t    \n\t   \t\t \n\t\t     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" late\n             "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" lone \n\t         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("NCL读取方式")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v('  inbin =   "./data/ERA20C.EAsia.27L.12km.20040101"\n   p = fbinrecread(inbin,0,(/27/),"float")              ;气压层  [27]  hpa\n   t = fbinrecread(inbin,1,(/8,27,361,601/),"float")    ;温度廓线[8,27,361,601]  k\n   z = fbinrecread(inbin,2,(/8,27,361,601/),"float"z)    ;高度廓线[8,27,361,601]  m\n   rh= fbinrecread(inbin,3,(/8,27,361,601/),"float"rh)   ;湿度廓线[8,27,361,601]  %\n    \t\n   psurf = fbinrecread(inbin,4,(/8,361,601/),"float") ;地表气压 [8,361,601] hpa\n   skt = fbinrecread(inbin,5,(/8,361,601/),"float")   ;地表温度 [8,361,601]  k\n   t2m = fbinrecread(inbin,6,(/8,361,601/),"float")   ;2m高度温度[8,361,601]  k\n   wnd = fbinrecread(inbin,7,(/8,361,601/),"float")   ;10m风场  [8,361,601]  m/s\n    \t\n  latitude  = fbinrecread(inbin,8,(/361,601/),"float")  ;[55, 5,-0.125]\n  longitude = fbinrecread(inbin,9,(/361,601/),"float")  ;[10,145,0.125]\n')])])])])])])]),s._v(" "),a("h2",{attrs:{id:"建议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建议"}},[s._v("#")]),s._v(" - 建议")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("处理完以后不要直接输出成二进制，可以输出成nc文件打开，看看地形缺测部分是否合理。")]),s._v(" "),a("p",[s._v("如下可以看出某一剖面处，去除地形后的RH缺测值，软件："),a("a",{attrs:{href:"https://www.giss.nasa.gov/tools/panoply/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Panoply"),a("OutboundLink")],1)]),s._v(" "),a("img",{attrs:{src:"https://ws1.sinaimg.cn/large/005zDzHply1g4h2b1y9vwj30p70iwjtd.jpg"}})]),s._v(" "),a("li",[a("p",[s._v("可以保留全部的37层，我当时去除了100hpa上面的十层，高度在20km左右以上的部分。其实没必要。")]),s._v(" "),a("p",[s._v("© jihenghu 2019")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);